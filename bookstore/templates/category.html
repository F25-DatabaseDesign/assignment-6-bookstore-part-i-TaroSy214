{% extends 'base.html' %}

{% block container %}
<main>
    <section id="catLeft">
        <!-- Loop that iterates through the list of categories -->
        {% for cat in categories %}
            <!-- Check if the selectedCategory parameter is the same as the categoryId -->
            {% if selectedCategory == cat[0] %}
                <!-- If so, create a p element displaying the category name with selectedCategory styling -->
                <p class="selectedCategory">{{ cat[1] }}</p>
            {% else %}
                <!-- Otherwise, create a p element containing a link to category HTML with notSelectedCategory styling -->
                <p class="notSelectedCategory">
                    <a href="{{ url_for('category', categoryId=cat[0]) }}">{{ cat[1] }}</a>
                </p>
            {% endif %}
        {% endfor %}
    </section>
    
    <section id="catRight">
        <!-- Loop that iterates through the list of books -->
        {% for book in books %}
            <div class='book'>
                <!-- Book image stored in the static folder -->
                <div>
                    <img src="{{ url_for('static', filename='images/books/' + book[6]) }}" 
                         alt="{{ book[2] }}">
                </div>
                
                <div class='bookDetailBox'>
                    <!-- Book title -->
                    <p class='bookTitle'>{{ book[2] }}</p>
                    <!-- Author name -->
                    <p class='bookDetail'>by {{ book[3] }}</p>
                    <!-- ISBN -->
                    <p class='bookDetail'>ISBN: {{ book[4] }}</p>
                    <!-- Price formatted to 2 decimal places -->
                    <p class='bookPrice'>${{ '%.2f'|format(book[5]) }}</p>
                    
                    <!-- Add to cart button -->
                    <a class='actionButton' href='#'>Add to cart</a>
                    
                    <!-- If statement to check if ReadNow flag is set -->
                    {% if book[7] == 1 %}
                        <a class='actionButton' href='#'>Read Now</a>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </section>
</main>
{% endblock %}